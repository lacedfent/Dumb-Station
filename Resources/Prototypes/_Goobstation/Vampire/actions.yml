#Base abilities

- type: entity
  parent: BaseAction
  id: ActionVampireToggleFangs
  name: Toggle Fangs(Toggle)
  description: Extend or retract your fangs to drink blood from victims.
  components:
    - type: Action
      useDelay: 2 # Toggle
      itemIconStyle: NoItem
      priority: 1
      icon:
        sprite: _Goobstation/Vampire/actions_vampire.rsi
        state: fangs_retracted
      iconOn:
        sprite: _Goobstation/Vampire/actions_vampire.rsi
        state: fangs_extended
    - type: InstantAction
      event: !type:VampireToggleFangsActionEvent {}
    - type: VampireAction
      bloodToUnlock: 0
      bloodCost: 0

- type: entity
  parent: BaseAction
  id: ActionVampireGlare
  name: Glare(Free)
  description: Paralyze and mute nearby targets, dealing stamina damage over time.
  components:
    - type: Action
      useDelay: 90
      itemIconStyle: NoItem
      priority: 2
      icon:
        sprite: _Goobstation/Vampire/actions_vampire.rsi
        state: glare
    - type: InstantAction
      event: !type:VampireGlareActionEvent {}
    - type: VampireAction
      bloodToUnlock: 0
      bloodCost: 0

- type: entity
  parent: BaseAction
  id: ActionVampireRejuvenateI
  name: Rejuvenate(Free)
  description: Instantly remove stuns and recover 100 stamina damage.
  components:
    - type: Action
      useDelay: 35
      itemIconStyle: NoItem
      priority: 3
      checkCanInteract: false
      checkConsciousness: false
      icon:
        sprite: _Goobstation/Vampire/actions_vampire.rsi
        state: rejuvinate
    - type: InstantAction
      event: !type:VampireRejuvenateIActionEvent {}
    - type: VampireAction
      bloodToUnlock: 0
      bloodCost: 0

- type: entity
  parent: BaseAction
  id: ActionVampireRejuvenateII
  name: Rejuvenate(Free)
  description: Instantly remove stuns and recover 100 stamina, plus purge harmful reagents (10u) and heal 20 brute, 20 burn, 20 toxin, and 30 oxy loss.
  components:
    - type: Action
      useDelay: 30
      itemIconStyle: NoItem
      priority: 4
      checkCanInteract: false
      checkConsciousness: false
      icon:
        sprite: _Goobstation/Vampire/actions_vampire.rsi
        state: rejuvinate
    - type: InstantAction
      event: !type:VampireRejuvenateIIActionEvent {}
    - type: VampireAction
      bloodToUnlock: 200
      bloodCost: 0

- type: entity
  parent: BaseAction
  id: ActionClassSelectId
  name: Choose Vampire Class
  description: Choose your vampire subclass
  components:
    - type: Action
      useDelay: 2 # Toggle
      itemIconStyle: NoItem
      priority: 5
      icon:
        sprite: _Goobstation/Vampire/actions_vampire.rsi
        state: select_class
    - type: InstantAction
      event: !type:VampireClassSelectActionEvent {}
    - type: VampireAction
      bloodToUnlock: 150
      bloodCost: 0

# Haemomancer abilities

- type: entity
  parent: BaseAction
  id: ActionVampireHemomancerClaws
  name: Vampiric Claws
  description: Create undroppable claws of blood. Each hit grants +5 blood. Has 15 swings. Use in hand to dispel.
  components:
    - type: Action
      useDelay: 30
      itemIconStyle: NoItem
      priority: 10
      icon:
        sprite: _Goobstation/Vampire/haemomancer.rsi
        state: claws
    - type: InstantAction
      event: !type:VampireHemomancerClawsActionEvent {}
    - type: VampireAction
      bloodToUnlock: 150
      bloodCost: 30
      requiredClass: Hemomancer

- type: entity
  parent: BaseAction
  id: ActionVampireSanguinePool
  name: Sanguine Pool
  description: Transform into a pool of blood for 8 seconds, allowing movement through doors and windows.
  components:
    - type: Action
      useDelay: 30
      itemIconStyle: NoItem
      priority: 13
      icon:
        sprite: _Goobstation/Vampire/haemomancer.rsi
        state: blood_pool
    - type: InstantAction
      event: !type:VampireSanguinePoolActionEvent {}
    - type: VampireAction
      bloodToUnlock: 400
      bloodCost: 30
      requiredClass: Hemomancer

- type: entity
  parent: BaseAction
  id: ActionVampireHemomancerTendrils
  name: Blood Tendrils
  description: After a short delay, tendrils erupt in a 3x3 area, poisoning and heavily slowing victims.
  components:
    - type: Action
      useDelay: 30
      itemIconStyle: NoItem
      priority: 11
      icon:
        sprite: _Goobstation/Vampire/haemomancer.rsi
        state: blood_tendrils
    - type: TargetAction
      checkCanAccess: false
      range: 7
    - type: WorldTargetAction
      event: !type:VampireHemomancerTendrilsActionEvent
    - type: VampireAction
      bloodToUnlock: 250
      bloodCost: 25
      requiredClass: Hemomancer

- type: entity
  parent: BaseAction
  id: ActionVampireBloodBarrier
  name: Blood Barrier
  description: Creates 3 blood barriers at the target location. Vampires can pass through them.
  components:
    - type: Action
      useDelay: 60
      itemIconStyle: NoItem
      priority: 12
      icon:
        sprite: _Goobstation/Vampire/haemomancer.rsi
        state: blood_barrier
    - type: TargetAction
      checkCanAccess: false
      range: 6
    - type: WorldTargetAction
      event: !type:VampireBloodBarrierActionEvent
        barrierCount: 3
    - type: VampireAction
      bloodToUnlock: 250
      bloodCost: 40
      requiredClass: Hemomancer

- type: entity
  parent: BaseAction
  id: ActionVampirePredatorSense
  name: Predator Sense
  description: Hunt down your prey, there's nowhere to hide...
  components:
    - type: Action
      useDelay: 40
      itemIconStyle: NoItem
      priority: 14
      icon:
        sprite: _Goobstation/Vampire/haemomancer.rsi
        state: predator_sense
    - type: InstantAction
      event: !type:VampireLocateMindActionEvent {}
    - type: VampireAction
      bloodToUnlock: 600
      bloodCost: 20
      requiredClass: Hemomancer

- type: entity
  parent: BaseAction
  id: ActionVampireBloodEruption
  name: Blood Eruption(100)
  description: Cause any blood within 4 tiles of you to erupt, dealing 50 brute damage to anyone standing on it.
  components:
    - type: Action
      useDelay: 90
      itemIconStyle: NoItem
      priority: 13
      icon:
        sprite: _Goobstation/Vampire/haemomancer.rsi
        state: blood_spikes
    - type: InstantAction
      event: !type:VampireBloodEruptionActionEvent {}
    - type: VampireAction
      bloodToUnlock: 800
      bloodCost: 100
      requiredClass: Hemomancer

- type: entity
  parent: BaseAction
  id: ActionVampireBloodBringersRite
  name: Blood Bringers Rite(Toggle)
  description: When toggled, everyone around you begins to bleed profusely. You will drain their blood and rejuvenate yourself with it.
  components:
    - type: Action
      useDelay: 1 # Toggle
      itemIconStyle: NoItem
      priority: 14
      icon:
        sprite: _Goobstation/Vampire/haemomancer.rsi
        state: blood_rite
    - type: InstantAction
      event: !type:VampireBloodBringersRiteActionEvent {}
    - type: VampireAction
      bloodToUnlock: 1000
      bloodCost: 0
      requiredClass: Hemomancer

# Umbrae
- type: entity
  parent: BaseAction
  id: ActionVampireCloakOfDarkness
  name: Cloak of Darkness(Toggle)
  description: Toggle invisibility and speed boost that scales with darkness. More effective in dark areas, less effective in bright light.
  components:
    - type: Action
      useDelay: 2 # Toggle
      itemIconStyle: NoItem
      priority: 15
      icon:
        sprite: _Goobstation/Vampire/umbrae.rsi
        state: cloak_of_darkness
    - type: InstantAction
      event: !type:VampireCloakOfDarknessActionEvent {}
    - type: VampireAction
      bloodToUnlock: 150
      bloodCost: 0
      requiredClass: Umbrae

- type: entity
  parent: BaseAction
  id: ActionVampireShadowSnare
  name: Shadow Snare (20)
  description: Place a fragile shadow trap at target location. Damages, blinds (20s) and heavily slows a non-vampire humanoid that steps on it. Trap is destroyed by flashes.
  components:
    - type: Action
      useDelay: 25
      itemIconStyle: NoItem
      priority: 16
      icon:
        sprite: _Goobstation/Vampire/umbrae.rsi
        state: shadow_snare
    - type: TargetAction
      checkCanAccess: false
      range: 15
    - type: WorldTargetAction
      event: !type:VampireShadowSnareActionEvent {}
    - type: VampireAction
      bloodToUnlock: 200
      bloodCost: 20
      requiredClass: Umbrae

- type: entity
  parent: BaseAction
  id: ActionVampireShadowAnchor
  name: Shadow Anchor (20)
  description: First use, place a shadow anchor beacon (lasts 2 min). Second use while it exists instantly return to it and consume the beacon.
  components:
    - type: Action
      useDelay: 300 # 5min
      itemIconStyle: NoItem
      priority: 20
      icon:
        sprite: _Goobstation/Vampire/umbrae.rsi
        state: shadow_anchor
    - type: InstantAction
      event: !type:VampireShadowAnchorActionEvent {}
    - type: VampireAction
      bloodToUnlock: 200
      bloodCost: 20
      requiredClass: Umbrae

- type: entity
  parent: BaseAction
  id: ActionVampireShadowBoxing
  name: Shadow Boxing (50)
  description: Target someone to have your shadow bats beat them up. You must stay within 4 tiles for this to work.
  components:
    - type: Action
      useDelay: 30
      itemIconStyle: NoItem
      priority: 21
      icon:
        sprite: _Goobstation/Vampire/umbrae.rsi
        state: shadow_boxing
    - type: TargetAction
      interactOnMiss: false
      range: 2
    - type: EntityTargetAction
      canTargetSelf: false
      whitelist:
        components:
          - MobState
      event: !type:VampireShadowBoxingActionEvent
        hitSound: !type:SoundCollectionSpecifier
          collection: Knuckles
    - type: VampireAction
      bloodToUnlock: 800
      bloodCost: 50
      requiredClass: Umbrae

- type: entity
  parent: BaseAction
  id: ActionVampireDarkPassage
  name: Dark Passage (20)
  description: Teleport to target location through shadows. Cannot pass through bright areas.
  components:
    - type: Action
      useDelay: 40
      itemIconStyle: NoItem
      priority: 17
      icon:
        sprite: _Goobstation/Vampire/umbrae.rsi
        state: dark_passage
    - type: TargetAction
      range: 15
      repeat: false
      checkCanAccess: false
    - type: WorldTargetAction
      event: !type:VampireDarkPassageActionEvent {}
    - type: VampireAction
      bloodToUnlock: 300
      bloodCost: 20
      requiredClass: Umbrae

- type: entity
  parent: BaseAction
  id: ActionVampireExtinguish
  name: Extinguish Lights (0)
  description: Destroy all light sources within 3 tiles, gaining 5 blood per light.
  components:
    - type: Action
      useDelay: 20
      itemIconStyle: NoItem
      priority: 18
      icon:
        sprite: _Goobstation/Vampire/umbrae.rsi
        state: extinguish
    - type: InstantAction
      event: !type:VampireExtinguishActionEvent {}
    - type: VampireAction
      bloodToUnlock: 400
      bloodCost: 0
      requiredClass: Umbrae

- type: entity
  parent: BaseAction
  id: ActionVampireEternalDarkness
  name: Eternal Darkness (Toggle)
  description: When toggled, you shroud the area around you in darkness and slowly lower the body temperature of people nearby.
  components:
    - type: Action
      useDelay: 2 # Toggle
      itemIconStyle: NoItem
      priority: 19
      icon:
        sprite: _Goobstation/Vampire/umbrae.rsi
        state: eternal_darkness
    - type: InstantAction
      event: !type:VampireEternalDarknessActionEvent {}
    - type: VampireAction
      bloodToUnlock: 1000
      bloodCost: 0
      requiredClass: Umbrae

# Dantalion

- type: entity
  parent: BaseAction
  id: ActionVampireEnthrall
  name: Enthrall(150)
  description: Channel for 15 seconds on a humanoid target to bind them to your will. Cancels if either of you moves.
  components:
    - type: Action
      useDelay: 1 # Jus no CD
      itemIconStyle: NoItem
      priority: 25
      icon:
        sprite: _Goobstation/Vampire/Dantalion.rsi
        state: enthrall
    - type: TargetAction
      range: 2
      checkCanAccess: false
      interactOnMiss: false
    - type: EntityTargetAction
      canTargetSelf: false
      whitelist:
        components:
          - HumanoidAppearance
      event: !type:VampireEnthrallActionEvent
    - type: VampireAction
      bloodToUnlock: 150
      bloodCost: 150
      requiredClass: Dantalion

- type: entity
  parent: BaseAction
  id: ActionVampirePacify
  name: Pacify(10)
  description: Flood a victim's mind with bliss, pacifying them for 40 seconds.
  components:
    - type: Action
      useDelay: 30 
      itemIconStyle: NoItem
      priority: 26
      icon:
        sprite: _Goobstation/Vampire/Dantalion.rsi
        state: pacify
    - type: TargetAction
      range: 7
      checkCanAccess: false
      interactOnMiss: false
    - type: EntityTargetAction
      canTargetSelf: false
      whitelist:
        components:
          - MobState
      event: !type:VampirePacifyActionEvent
    - type: VampireAction
      bloodToUnlock: 250
      bloodCost: 30
      requiredClass: Dantalion

- type: entity
  parent: BaseAction
  id: ActionVampireSubspaceSwap
  name: Subspace Swap(30)
  description: Select a target within 7 tiles to swap positions, slowing them for 4 seconds.
  components:
    - type: Action
      useDelay: 30
      itemIconStyle: NoItem
      priority: 27
      icon:
        sprite: _Goobstation/Vampire/Dantalion.rsi
        state: subspace_swap
    - type: TargetAction
      range: 7
      checkCanAccess: false
      interactOnMiss: false
    - type: EntityTargetAction
      canTargetSelf: false
      whitelist:
        components:
          - MobState
      event: !type:VampireSubspaceSwapActionEvent
    - type: VampireAction
      bloodToUnlock: 250
      bloodCost: 30
      requiredClass: Dantalion

- type: entity
  parent: BaseAction
  id: ActionVampireDecoy
  name: Decoy(30)
  description: Leave behind a fragile duplicate that blinds attackers when harmed while you vanish into invisibility.
  components:
    - type: Action
      useDelay: 40
      itemIconStyle: NoItem
      priority: 28
      icon:
        sprite: _Goobstation/Vampire/Dantalion.rsi
        state: decoy
    - type: InstantAction
      event: !type:VampireDecoyActionEvent
    - type: VampireAction
      bloodToUnlock: 400
      bloodCost: 30
      requiredClass: Dantalion

- type: entity
  parent: BaseAction
  id: ActionVampireRallyThralls
  name: Rally Thralls(100)
  description: Command thralls within 7 tiles to shake off stuns, wake up, and regain stamina.
  components:
    - type: Action
      useDelay: 100
      itemIconStyle: NoItem
      priority: 29
      icon:
        sprite: _Goobstation/Vampire/Dantalion.rsi
        state: thralls_up
    - type: InstantAction
      event: !type:VampireRallyThrallsActionEvent
    - type: VampireAction
      bloodToUnlock: 600
      bloodCost: 100
      requiredClass: Dantalion

- type: entity
  parent: BaseAction
  id: ActionVampireBloodBond
  name: Blood Bond(Toggle)
  description: Toggle a blood tether to nearby thralls, redistributing damage between you at the cost of 2.5 blood per second.
  components:
    - type: Action
      useDelay: 2 # Toggle
      itemIconStyle: NoItem
      priority: 30
      icon:
        sprite: _Goobstation/Vampire/Dantalion.rsi
        state: blood_bond
    - type: InstantAction
      event: !type:VampireBloodBondActionEvent
    - type: VampireAction
      bloodToUnlock: 800
      bloodCost: 0
      requiredClass: Dantalion

- type: entity
  parent: BaseAction
  id: ActionVampireMassHysteria
  name: Mass Hysteria(70)
  description: Flood every nearby mind (except thralls) with terror, flashing them and cursing them with hallucinations for 30 seconds.
  components:
    - type: Action
      useDelay: 180 # 3min
      itemIconStyle: NoItem
      priority: 31
      icon:
        sprite: _Goobstation/Vampire/Dantalion.rsi
        state: hysteria
    - type: InstantAction
      event: !type:VampireMassHysteriaActionEvent
    - type: VampireAction
      bloodToUnlock: 1000
      bloodCost: 70
      requiredClass: Dantalion

#Gargantua

- type: entity
  parent: BaseAction
  id: ActionVampireBloodSwell
  name: Blood Swell(30)
  description: For 30 seconds, reduces brute damage by 60%, stamina and burn by 50%, halves stun times. Cannot use guns. After 400 blood, also gain +14 melee damage.
  components:
    - type: Action
      useDelay: 40
      itemIconStyle: NoItem
      priority: 40
      icon:
        sprite: _Goobstation/Vampire/Gargantua.rsi
        state: blood_swell
    - type: InstantAction
      event: !type:VampireBloodSwellActionEvent
    - type: VampireAction
      bloodToUnlock: 150
      bloodCost: 30
      requiredClass: Gargantua

- type: entity
  parent: BaseAction
  id: ActionVampireBloodRush
  name: Blood Rush(30)
  description: For 10 seconds - double your movement speed.
  components:
    - type: Action
      useDelay: 30
      itemIconStyle: NoItem
      priority: 41
      icon:
        sprite: _Goobstation/Vampire/Gargantua.rsi
        state: blood_rush
    - type: InstantAction
      event: !type:VampireBloodRushActionEvent
    - type: VampireAction
      bloodToUnlock: 250
      bloodCost: 30
      requiredClass: Gargantua

- type: entity
  parent: BaseAction
  id: ActionVampireSeismicStomp
  name: Seismic Stomp(30)
  description: Slam the ground, knocking down and throwing all creatures within 3 tiles away from you. Destroys floor tiles.
  components:
    - type: Action
      useDelay: 60
      itemIconStyle: NoItem
      priority: 42
      icon:
        sprite: _Goobstation/Vampire/Gargantua.rsi
        state: seismic_stomp
    - type: InstantAction
      event: !type:VampireSeismicStompActionEvent
    - type: VampireAction
      bloodToUnlock: 250
      bloodCost: 30
      requiredClass: Gargantua

- type: entity
  parent: BaseAction
  id: ActionVampireOverwhelmingForce
  name: Overwhelming Force(Toggle)
  description: Toggle - automatically pry open unpowered doors. While active, you cannot be pushed or pulled. Costs 5 blood per door.
  components:
    - type: Action
      useDelay: 2 # Toggle
      itemIconStyle: NoItem
      priority: 43
      icon:
        sprite: _Goobstation/Vampire/Gargantua.rsi
        state: overwhelming_force
    - type: InstantAction
      event: !type:VampireOverwhelmingForceActionEvent {}
    - type: VampireAction
      bloodToUnlock: 600
      bloodCost: 0
      requiredClass: Gargantua

- type: entity
  parent: BaseAction
  id: ActionVampireDemonicGrasp
  name: Demonic Grasp(20)
  description: Launch a demonic hand up to 15 tiles. Immobilizes the target for 5 seconds. In combat mode, also pulls them to you.
  components:
    - type: Action
      useDelay: 30
      itemIconStyle: NoItem
      priority: 44
      icon:
        sprite: _Goobstation/Vampire/Gargantua.rsi
        state: demonic_grasp
    - type: TargetAction
      checkCanAccess: false
      range: 15
    - type: WorldTargetAction
      event: !type:VampireDemonicGraspActionEvent
    - type: VampireAction
      bloodToUnlock: 800
      bloodCost: 20
      requiredClass: Gargantua

- type: entity
  parent: BaseAction
  id: ActionVampireCharge
  name: Charge(30)
  description: Charge in the target direction until hitting an obstacle or void. Creatures take 60 brute and are thrown 5 tiles. Structures take 150 damage. Walls are destroyed.
  components:
    - type: Action
      useDelay: 30
      itemIconStyle: NoItem
      priority: 45
      icon:
        sprite: _Goobstation/Vampire/Gargantua.rsi
        state: charge
    - type: TargetAction
      checkCanAccess: false
      range: -1
    - type: WorldTargetAction
      event: !type:VampireChargeActionEvent
    - type: VampireAction
      bloodToUnlock: 1000
      bloodCost: 30
      requiredClass: Gargantua
